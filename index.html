<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zin(cir)de | PostÃ¼r & Pelvik Taban SaÄŸlÄ±ÄŸÄ±</title>
    <meta name="description"
        content="9 adÄ±mlÄ±k bilimsel egzersiz programÄ±yla postÃ¼r ve pelvik taban saÄŸlÄ±ÄŸÄ±nÄ±zÄ± iyileÅŸtirin. Streak sistemiyle kendinizi motive edin.">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">

    <!-- Lottie Player for chain break animation -->
    <script src="https://unpkg.com/@lottiefiles/lottie-player@2.0.8/dist/lottie-player.js"></script>

    <script src="script.js"></script>
    <script src="https://accounts.google.com/gsi/client" async defer onload="gisLoaded()"></script>
    <script src="https://apis.google.com/js/api.js" async defer onload="gapiLoaded()"></script>
</head>

<body>
    <!-- ============ CHAIN BREAK OVERLAY ============ -->
    <div id="chain-break-overlay" class="chain-break-overlay hidden">
        <div class="chain-break-content">
            <div class="chain-break-icon">
                <svg viewBox="0 0 120 120" class="broken-chain-svg">
                    <!-- Left half of broken chain -->
                    <g class="chain-left">
                        <ellipse cx="35" cy="45" rx="18" ry="22" fill="none" stroke="url(#metalGrad)"
                            stroke-width="5" />
                        <ellipse cx="35" cy="75" rx="18" ry="22" fill="none" stroke="url(#metalGrad)"
                            stroke-width="5" />
                    </g>
                    <!-- Right half of broken chain -->
                    <g class="chain-right">
                        <ellipse cx="85" cy="45" rx="18" ry="22" fill="none" stroke="url(#metalGrad2)"
                            stroke-width="5" />
                        <ellipse cx="85" cy="75" rx="18" ry="22" fill="none" stroke="url(#metalGrad2)"
                            stroke-width="5" />
                    </g>
                    <!-- Spark particles -->
                    <circle class="spark s1" cx="60" cy="55" r="2" fill="#FFD700" />
                    <circle class="spark s2" cx="55" cy="50" r="1.5" fill="#FFA500" />
                    <circle class="spark s3" cx="65" cy="60" r="1.8" fill="#FF6347" />
                    <circle class="spark s4" cx="58" cy="65" r="1.2" fill="#FFD700" />
                    <circle class="spark s5" cx="62" cy="48" r="2" fill="#FFA500" />
                    <defs>
                        <linearGradient id="metalGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#8B8B8B" />
                            <stop offset="50%" stop-color="#C0C0C0" />
                            <stop offset="100%" stop-color="#696969" />
                        </linearGradient>
                        <linearGradient id="metalGrad2" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#696969" />
                            <stop offset="50%" stop-color="#A8A8A8" />
                            <stop offset="100%" stop-color="#505050" />
                        </linearGradient>
                    </defs>
                </svg>
            </div>
            <h2 class="chain-break-title">Zincir Koptu!</h2>
            <p class="chain-break-text">Rutin bozuldu ama yeniden baÅŸlamak cesaret ister. Hadi bir halka daha ekleyelim!
            </p>
            <button id="btn-restart-chain" class="btn-restart">Yeniden BaÅŸla ğŸ’ª</button>
        </div>
    </div>

    <!-- ============ LANDING SCREEN ============ -->
    <div id="landing-screen" class="landing-screen">
        <div class="landing-bg-animation"></div>
        <div class="landing-content">
            <div class="landing-logo">
                <div class="logo-chain">
                    <div class="logo-ring r1"></div>
                    <div class="logo-ring r2"></div>
                    <div class="logo-ring r3"></div>
                </div>
            </div>
            <h1 class="landing-title">
                <span class="logo-text">Zin</span><svg class="chain-rings" viewBox="0 0 34 16"
                    xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="lgold" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#F0D78C" />
                            <stop offset="50%" stop-color="#D4A853" />
                            <stop offset="100%" stop-color="#A67C2E" />
                        </linearGradient>
                    </defs>
                    <ellipse cx="8" cy="8" rx="6" ry="6.5" fill="none" stroke="url(#lgold)" stroke-width="2.5" />
                    <ellipse cx="17" cy="8" rx="6" ry="6.5" fill="none" stroke="url(#lgold)" stroke-width="2.5" />
                    <ellipse cx="26" cy="8" rx="6" ry="6.5" fill="none" stroke="url(#lgold)" stroke-width="2.5" />
                </svg><span class="logo-text">de</span>
            </h1>
            <p class="landing-subtitle">PostÃ¼r & Pelvik Taban SaÄŸlÄ±ÄŸÄ±</p>
            <p class="landing-desc">9 adÄ±mlÄ±k bilimsel programa baÄŸlÄ± kal, her gÃ¼n bir halka ekle.</p>

            <button id="authorize_button" class="btn-google-login" style="display:none;">
                <svg class="google-icon" viewBox="0 0 24 24" width="20" height="20">
                    <path
                        d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.27-4.74 3.27-8.1z"
                        fill="#4285F4" />
                    <path
                        d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
                        fill="#34A853" />
                    <path
                        d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
                        fill="#FBBC05" />
                    <path
                        d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
                        fill="#EA4335" />
                </svg>
                Google ile GiriÅŸ Yap
            </button>

            <div id="sync-status" class="sync-status">BaÄŸlantÄ± Bekleniyor...</div>
        </div>
    </div>

    <!-- ============ MAIN APP ============ -->
    <div id="main-app" class="main-app" style="display:none;">

        <!-- HEADER -->
        <header class="app-header">
            <div class="header-left">
                <h1 class="header-title">
                    <span class="logo-text">Zin</span><svg class="chain-rings" viewBox="0 0 34 16"
                        xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="hgold" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" stop-color="#F0D78C" />
                                <stop offset="50%" stop-color="#D4A853" />
                                <stop offset="100%" stop-color="#A67C2E" />
                            </linearGradient>
                        </defs>
                        <ellipse cx="8" cy="8" rx="6" ry="6.5" fill="none" stroke="url(#hgold)" stroke-width="2.5" />
                        <ellipse cx="17" cy="8" rx="6" ry="6.5" fill="none" stroke="url(#hgold)" stroke-width="2.5" />
                        <ellipse cx="26" cy="8" rx="6" ry="6.5" fill="none" stroke="url(#hgold)" stroke-width="2.5" />
                    </svg><span class="logo-text">de</span>
                </h1>
            </div>
            <div class="header-right">
                <div id="user-profile" class="user-profile" style="display:none;">
                    <span id="app-sync-status" class="sync-badge">â—</span>
                    <button id="signout_button" class="btn-signout" title="Ã‡Ä±kÄ±ÅŸ Yap">â»</button>
                </div>
            </div>
        </header>

        <!-- CHAIN VISUALIZATION -->
        <section class="chain-section">
            <div class="chain-container" id="chain-container">
                <!-- Dynamically rendered chain rings -->
            </div>
            <div class="streak-info">
                <div class="streak-number" id="streak-count">0</div>
                <div class="streak-label">GÃ¼n Serisi</div>
                <div class="streak-best">En iyi: <span id="streak-best">0</span></div>
            </div>
        </section>

        <!-- TODAY'S PROGRESS -->
        <section class="progress-section">
            <div class="progress-header">
                <h2>GÃ¼nlÃ¼k Hedef Seviyesi</h2>
                <span class="progress-count" id="progress-count">0/3</span>
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar" id="progress-bar" style="width: 0%"></div>
            </div>
        </section>

        <!-- EXERCISE LIST -->
        <section class="exercise-list" id="exercise-list">
            <!-- Dynamically rendered exercise cards -->
        </section>

        <!-- EXERCISE DETAIL MODAL -->
        <div id="exercise-modal" class="exercise-modal hidden">
            <div class="modal-backdrop" id="modal-backdrop"></div>
            <div class="modal-sheet">
                <div class="modal-handle"></div>
                <div class="modal-header-row">
                    <span class="exercise-number" id="modal-exercise-number">1</span>
                    <h2 id="modal-exercise-name">Exercise Name</h2>
                    <button class="btn-close-modal" id="btn-close-modal">âœ•</button>
                </div>

                <!-- Timer -->
                <div class="timer-section" id="timer-section">
                    <div class="timer-ring">
                        <svg class="timer-svg" viewBox="0 0 200 200">
                            <circle class="timer-bg" cx="100" cy="100" r="90" />
                            <circle class="timer-progress" id="timer-progress" cx="100" cy="100" r="90" />
                        </svg>
                        <div class="timer-display" id="timer-display">00:00</div>
                    </div>
                    <div class="timer-switch-label" id="timer-switch-label" style="display:none;"></div>
                    <div class="timer-controls">
                        <button class="btn-timer" id="btn-timer-start">â–¶ BaÅŸlat</button>
                        <button class="btn-timer secondary" id="btn-timer-reset">â†º SÄ±fÄ±rla</button>
                    </div>
                </div>

                <!-- Reps section (for rep-based exercises) -->
                <div class="reps-section hidden" id="reps-section">
                    <div class="reps-instruction">
                        <span class="reps-icon">ğŸ’ª</span>
                        <p>TekrarlarÄ±nÄ± tamamla ve aÅŸaÄŸÄ±daki butona bas</p>
                    </div>
                </div>

                <!-- Info -->
                <div class="exercise-info">
                    <div class="info-row">
                        <span class="info-label">SÃ¼re / Tekrar</span>
                        <span class="info-value" id="modal-duration">-</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">GÃ¼nlÃ¼k SÄ±klÄ±k</span>
                        <span class="info-value" id="modal-frequency">-</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">BugÃ¼nkÃ¼ Tekrar</span>
                        <span class="info-value" id="modal-today-count">0 / 2</span>
                    </div>
                </div>

                <div class="exercise-description" id="modal-description">
                    <!-- Description text -->
                </div>

                <!-- How-To Guide Card -->
                <div class="guide-card">
                    <div class="guide-card-header">ğŸ“‹ NasÄ±l YapÄ±lÄ±r?</div>
                    <div class="guide-card-body" id="modal-guide">
                        <!-- Instructions text rendered by JS -->
                    </div>
                </div>

                <button class="btn-complete" id="btn-complete-exercise">
                    <span class="btn-complete-text">Tamamla âœ“</span>
                </button>
            </div>
        </div>

    </div>

</body>

</html>